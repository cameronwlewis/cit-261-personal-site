{"version":3,"sources":["../../../public/javascripts/test.js"],"names":["accessToken","data_test","xhttp","XMLHttpRequest","onreadystatechange","readyState","status","responseText","open","send","getSpotifyPlaylist","spotify","SpotifyWebApi","setAccessToken","searchPlaylists","limit","err","data","console","error","log","playlist","playlists","items","name","imageLoader","document","getElementById","addEventListener","handleImage","canvas","ctx","getContext","submitImage","sendImage","e","reader","FileReader","onload","event","img","Image","width","height","drawImage","src","target","result","readAsDataURL","files","style","visibility"],"mappings":";;AACA,IAAIA,cAAa,EAAjB;;AAEA,SAASC,SAAT,GAAqB;AACjB,QAAIC,QAAQ,IAAIC,cAAJ,EAAZ;AACAD,UAAME,kBAAN,GAA2B,YAAW;AAClC,YAAI,KAAKC,UAAL,KAAoB,CAApB,IAAyB,KAAKC,MAAL,KAAgB,GAA7C,EAAkD;AAC9CN,0BAAc,KAAKO,YAAnB;AACH;AACJ,KAJD;AAKAL,UAAMM,IAAN,CAAW,KAAX,EAAkB,iCAAlB,EAAqD,IAArD;AACAN,UAAMO,IAAN;AACH;;AAED;;;AAGA,SAASC,kBAAT,GAA8B;AAC1B,QAAIC,UAAU,IAAIC,aAAJ,EAAd;AACAD,YAAQE,cAAR,CAAuBb,WAAvB;;AAEAW,YAAQG,eAAR,CAAwB,KAAxB,EAA+B,EAACC,OAAO,CAAR,EAA/B,EAA2C,UAAUC,GAAV,EAAeC,IAAf,EAAqB;;AAE5D,YAAID,GAAJ,EAASE,QAAQC,KAAR,CAAcH,GAAd,EAAT,KACK;AACDE,oBAAQE,GAAR,CAAY,gBAAZ,EAA8BH,IAA9B;AACA,gBAAII,WAAWJ,KAAKK,SAAL,CAAeC,KAAf,CAAqB,CAArB,EAAwBC,IAAvC;AACAN,oBAAQE,GAAR,CAAYC,QAAZ;AACH;AACJ,KARD;AASH;;AAED,IAAII,cAAcC,SAASC,cAAT,CAAwB,aAAxB,CAAlB;AACAF,YAAYG,gBAAZ,CAA6B,QAA7B,EAAuCC,WAAvC,EAAoD,KAApD;AACA,IAAIC,SAASJ,SAASC,cAAT,CAAwB,aAAxB,CAAb;AACA,IAAII,MAAMD,OAAOE,UAAP,CAAkB,IAAlB,CAAV;;AAGA,IAAIC,cAAcP,SAASC,cAAT,CAAwB,aAAxB,CAAlB;AACAM,YAAYL,gBAAZ,CAA6B,OAA7B,EAAsCM,SAAtC;;AAEA,SAASL,WAAT,CAAqBM,CAArB,EAAuB;AACnB,QAAIC,SAAS,IAAIC,UAAJ,EAAb;AACAD,WAAOE,MAAP,GAAgB,UAASC,KAAT,EAAe;AAC3B,YAAIC,MAAM,IAAIC,KAAJ,EAAV;AACAD,YAAIF,MAAJ,GAAa,YAAU;AACnBR,mBAAOY,KAAP,GAAeF,IAAIE,KAAnB;AACAZ,mBAAOa,MAAP,GAAgBH,IAAIG,MAApB;AACAZ,gBAAIa,SAAJ,CAAcJ,GAAd,EAAkB,CAAlB,EAAoB,CAApB;AACH,SAJD;AAKAA,YAAIK,GAAJ,GAAUN,MAAMO,MAAN,CAAaC,MAAvB;AACH,KARD;AASAX,WAAOY,aAAP,CAAqBb,EAAEW,MAAF,CAASG,KAAT,CAAe,CAAf,CAArB;AACAvB,aAASC,cAAT,CAAwB,aAAxB,EAAuCuB,KAAvC,CAA6CC,UAA7C,GAAwD,SAAxD;AACH;;AAED,SAASjB,SAAT,GAAoB,CAEnB","file":"test.js","sourcesContent":["\nvar accessToken ='';\n\nfunction data_test() {\n    let xhttp = new XMLHttpRequest();\n    xhttp.onreadystatechange = function() {\n        if (this.readyState === 4 && this.status === 200) {\n            accessToken = this.responseText;\n        }\n    };\n    xhttp.open(\"GET\", \"http://localhost:3000/data_test\", true);\n    xhttp.send();\n}\n\n// put code here that searches playlists, and see if it works!\n\n\nfunction getSpotifyPlaylist() {\n    var spotify = new SpotifyWebApi();\n    spotify.setAccessToken(accessToken);\n\n    spotify.searchPlaylists('pop', {limit: 1}, function (err, data) {\n\n        if (err) console.error(err);\n        else {\n            console.log('Pop Playlist: ', data);\n            var playlist = data.playlists.items[0].name;\n            console.log(playlist);\n        }\n    });\n}\n\nvar imageLoader = document.getElementById('imageLoader');\nimageLoader.addEventListener('change', handleImage, false);\nvar canvas = document.getElementById('imageCanvas');\nvar ctx = canvas.getContext('2d');\n\n\nvar submitImage = document.getElementById('submitImage');\nsubmitImage.addEventListener('click', sendImage);\n\nfunction handleImage(e){\n    var reader = new FileReader();\n    reader.onload = function(event){\n        var img = new Image();\n        img.onload = function(){\n            canvas.width = img.width;\n            canvas.height = img.height;\n            ctx.drawImage(img,0,0);\n        };\n        img.src = event.target.result;\n    };\n    reader.readAsDataURL(e.target.files[0]);\n    document.getElementById('submitImage').style.visibility='visible';\n}\n\nfunction sendImage(){\n\n}\n\n"]}